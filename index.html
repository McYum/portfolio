<!DOCTYPE html>
<html lang="de" class="dark-mode"> <!-- Sprache auf Deutsch gesetzt -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boboh's Portfolio - 2025</title>
    <meta name="description" content="Portfolio von Boboh, das Programmier-, UI/UX-Design- und andere Projekte vorstellt."> <!-- Beschreibung übersetzt -->

    <link rel="stylesheet" href="css/style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Dela+Gothic+One&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="overlay"></div>

    <header class="page-header" role="banner">
        <nav class="main-navigation" aria-label="Main navigation">
            <ul>
                <li><a href="#about"><span class="link-text-wrapper">Über Mich</span></a></li> <!-- Übersetzt -->
                <li><a href="#projects"><span class="link-text-wrapper">Projekte</span></a></li> <!-- Bereits ok -->
                <li><a href="css-art.html"><span class="link-text-wrapper">CSS Tier Kunst</span></a></li> <!-- Übersetzt -->
                <li><a href="favorites-form.html"><span class="link-text-wrapper">Favoriten Formular</span></a></li> <!-- Übersetzt -->
            </ul>
        </nav>
        <div class="theme-switcher-container">
            <button id="theme-toggle-button" aria-label="Toggle theme" title="Toggle theme">
                <span class="icon-wrapper">
                    <i class="fas fa-sun light-icon theme-icon" aria-hidden="true"></i>
                    <i class="fas fa-moon dark-icon theme-icon" aria-hidden="true"></i>
                    <i class="fas fa-adjust contrast-icon theme-icon" aria-hidden="true"></i>
                </span>
            </button>
        </div>
    </header>

    <main role="main">
        <section id="about" class="about-section" aria-labelledby="about-heading-main">
            <div class="portfolio-header">
                <p class="portfolio-title-text animate-on-load">BOBOH'S PORTFOLIO (2023)</p> <!-- Englisch gelassen, da Eigenname/Branding -->
            </div>
            <h1 id="about-heading-main" class="about-heading animate-on-load">ÜBER MICH</h1> <!-- Übersetzt -->
            <p class="about-subtitle animate-on-load">Programmierer, 3D-Artist, UI/UX Designer</p> <!-- Englisch gelassen, da Fachbegriffe -->
            <p class="about-text animate-on-load">Hallo, ich bin <span class="highlight">BOBOH</span>. Ich entwickle schon seit einer Weile. Meine Fachgebiete liegen im Modellieren, Programmieren, VFX und UI/UX-Design. Zusätzlich habe ich eingerostete Erfahrungen in der Animation.</p> <!-- Angepasst -->
            <p class="about-text animate-on-load">Ich bin einer der Entwickler für den Titel <span class="highlight">REVOLT: Civil Unrest</span>, Nachfolger von Misc Gun Text: X.</p> <!-- Angepasst -->
            <p class="about-text animate-on-load">Unten finden Sie eine kleine Auswahl von Revolt-Assets. <span class="commission-status">Ich nehme derzeit keine Aufträge an.</span></p> <!-- Angepasst -->
            <a href="#projects" class="cta-button animate-on-load">Aktuelle Projekte ansehen ↓</a> <!-- Übersetzt -->
        </section>

        <section id="projects" class="projects-section" aria-labelledby="projects-heading">
            <div class="section-container">
                <h2 id="projects-heading" class="section-title-animate">Meine Projekte</h2> <!-- Bereits ok -->

                <div class="project-category-filter" role="tablist" aria-labelledby="projects-heading">
                    <button class="category-button active" type="button" role="tab" aria-selected="true" aria-controls="programming-projects" data-category="programming" id="category-programming" tabindex="0">
                        <i class="fas fa-code category-icon" aria-hidden="true"></i> Programmierung
                    </button>
                    <button class="category-button" type="button" role="tab" aria-selected="false" aria-controls="uiux-projects" data-category="uiux" id="category-uiux" tabindex="-1">
                        <i class="fas fa-palette category-icon" aria-hidden="true"></i> UI/UX Design
                    </button>
                    <button class="category-button" type="button" role="tab" aria-selected="false" aria-controls="3dart-projects" data-category="3dart" id="category-3dart" tabindex="-1">
                        <i class="fas fa-cube category-icon" aria-hidden="true"></i> 3D Kunst
                    </button>
                    <button class="category-button" type="button" role="tab" aria-selected="false" aria-controls="all-projects" data-category="all" id="category-all" tabindex="-1">
                        <i class="fas fa-layer-group category-icon" aria-hidden="true"></i> Alle Projekte
                    </button>
                </div>

                <div id="project-grid-container" class="project-grid" role="region" aria-live="polite" aria-atomic="true">
                    <article class="project-item project-animate" data-category="programming" id="programming-projects" role="tabpanel" aria-labelledby="category-programming">
                        <figure>
                            <a href="showcase-inf1.html">
                                <img src="https://cdn.discordapp.com/attachments/1088722976758825001/1373423211529900062/haffhafhafahfahhaf.png?ex=68304a4a&is=682ef8ca&hm=d341a9c52eefec4f9397e7cdff7938e978142ce67a17f6ada85c5a74c631e6a2&" alt="Screenshot des INF1 Projekt Dashboards. Klicken für Details."> <!-- Alt-Text angepasst -->
                            </a>
                            <figcaption>Abb. 1: INF1 Projekt Dashboard</figcaption> <!-- Übersetzt -->
                        </figure>
                        <h3>INF1 Kursprojekt</h3> <!-- Übersetzt -->
                        <p>Diese Webanwendung für Informatik 1 umfasste Datenverarbeitung und die Erstellung eines interaktiven Dashboards zur Visualisierung.</p> <!-- Übersetzt -->
                    </article>

                    <article class="project-item project-animate" data-category="uiux" id="uiux-projects" role="tabpanel" aria-labelledby="category-uiux">
                        <figure>
                            <a href="showcase-dmd-logo.html">
                                <img src="https://cdn.discordapp.com/attachments/1088722976758825001/1373423212045537430/ahahfhfashafhaf.png?ex=68304a4a&is=682ef8ca&hm=e16cd106b1ed6e68527d6f6dd70935259b3378020bde170a867c4a29bab7adbb&" alt="Logo für das DMD Projekt. Klicken für Details."> <!-- Alt-Text angepasst -->
                            </a>
                            <figcaption>Abb. 2: DMD Projekt Logo</figcaption> <!-- Übersetzt -->
                        </figure>
                        <h3>DMD Projekt Logo</h3> <!-- Bereits ok -->
                        <p>Ein modernes Logo, entworfen für den Kurs Digital Media Design, das klare Linien und einen minimalistischen Ansatz betont.</p> <!-- Übersetzt -->
                    </article>

                    <article class="project-item project-animate" data-category="3dart" id="3dart-projects" role="tabpanel" aria-labelledby="category-3dart">
                        <figure>
                            <a href="showcase-scifi-char1.html">
                                <img src="https://cdn.discordapp.com/attachments/1096466533577932901/1370182295637463050/image7.png?ex=6836f4f4&is=6835a374&hm=47a12137cdb1a33d7878f37e66d8781b1d9d00df196a7caf5353948105947797&" alt="Beispiel-3D-Rendering eines Sci-Fi-Charakters. Klicken für Details."> <!-- Alt-Text angepasst -->
                            </a>
                            <figcaption>Abb. 3: Charakter Konzeptkunst</figcaption> <!-- Übersetzt -->
                        </figure>
                        <h3>Sci-Fi Charaktermodell</h3> <!-- Übersetzt -->
                        <p>Ein detailliertes 3D-Modell eines futuristischen Charakters, texturiert und gerendert.</p> <!-- Übersetzt -->
                    </article>
					
                    <article class="project-item project-animate" data-category="programming">
                        <figure>
                            <a href="showcase-weather-api.html">
                                <img src="https://via.placeholder.com/400x225.png?text=Weiteres+Prog+Projekt" alt="Platzhalterbild für Wetter-App API Projekt. Klicken für Details."> <!-- Alt-Text angepasst, Text im Bild geändert -->
                            </a>
                            <figcaption>Abb. 4: API Integration</figcaption> <!-- Übersetzt -->
                        </figure>
                        <h3>Wetter-App API</h3> <!-- Bereits ok -->
                        <p>Entwicklung einer Backend-API für eine Wetteranwendung mit Node.js und Express.</p> <!-- Übersetzt -->
                    </article>
                    <article class="project-item project-animate" data-category="uiux">
                        <figure>
                            <a href="showcase-ecommerce-ui.html">
                                <img src="https://via.placeholder.com/400x225.png?text=Mobile+App+Mockup" alt="Mockup einer mobilen E-Commerce-Anwendungsoberfläche. Klicken für Details."> <!-- Alt-Text angepasst -->
                            </a>
                            <figcaption>Abb. 5: Mobile App Design</figcaption> <!-- Übersetzt -->
                        </figure>
                        <h3>E-Commerce App UI</h3> <!-- Bereits ok -->
                        <p>Entwurf von Benutzeroberflächen-Mockups und Prototypen für eine mobile E-Commerce-Plattform.</p> <!-- Übersetzt -->
                    </article>
                </div>
                <p id="project-filter-status" class="sr-only" aria-live="polite"></p>
            </div>
        </section>
    </main>

    <footer class="page-footer" role="contentinfo">
        <div class="footer-content footer-animate">
            <p>© <span id="current-year"></span> Boboh's Portfolio. Alle Rechte vorbehalten.</p> <!-- Übersetzt -->
            <nav class="footer-navigation" aria-label="Footer navigation">
                <ul>
                    <li><a href="impressum.html">Impressum</a></li>
                    <li><a href="datenschutz.html">Datenschutz</a></li>
                    <li><a href="barrierefreiheit.html">Barrierefreiheit</a></li>
                </ul>
            </nav>
        </div>
    </footer>

    <script>
    // JavaScript bleibt unverändert, da es sprachneutral ist oder die Texte über DOM-Manipulation setzt,
    // die bereits mehrsprachig gestaltet sein könnten (hier nicht der Fall, aber keine Änderung nötig für Funktionsweise)
    // Wichtige Ausnahme: Filter-Status-Text
    document.addEventListener('DOMContentLoaded', () => {
        const headerEl = document.querySelector('.page-header');
        const headerOffset = headerEl ? headerEl.offsetHeight : 0;
        const motionQuery = window.matchMedia('(prefers-reduced-motion: reduce)');

        // --- SMOOTH SCROLL & ANIMATION REPLAY ---
        function replayAboutAnimations() {
            const aboutElementsToAnimate = document.querySelectorAll('#about .animate-on-load');
            aboutElementsToAnimate.forEach((el, index) => {
                el.classList.remove('fadeInUp-active');
                void el.offsetHeight; // Force reflow
                el.style.animationDelay = `${index * 0.1}s`;
                el.classList.add('fadeInUp-active');
            });
        }

        document.querySelectorAll('.page-header .main-navigation a[href^="#"], .cta-button[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                try {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        let topPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerOffset;
                        window.scrollTo({ top: topPosition, behavior: motionQuery.matches ? 'auto' : 'smooth' });
                        if (targetId === '#about' && !motionQuery.matches) {
                           setTimeout(replayAboutAnimations, 50);
                        }
                    }
                } catch (error) { console.warn(`Smooth scroll target not found for: ${targetId}`); }
            });
        });

        // --- UPDATE YEAR ---
        const currentYearEl = document.getElementById('current-year');
        if (currentYearEl) {
            currentYearEl.textContent = new Date().getFullYear();
        }

        // --- THEME SWITCHER ---
        const themeToggleButton = document.getElementById('theme-toggle-button');
        const htmlEl = document.documentElement;
        const themes = ['dark-mode', 'light-mode', 'high-contrast-mode'];
        const icons = ['dark-icon', 'light-icon', 'contrast-icon'];
        let currentThemeIndex = 0; 

        function applyTheme(themeIndex, isInitialLoad = false) {
            const previousTheme = themes[currentThemeIndex]; 
            htmlEl.classList.remove(previousTheme);
            htmlEl.classList.add(themes[themeIndex]);
            currentThemeIndex = themeIndex; 

            const nextThemeIconToShow = icons[(currentThemeIndex + 1) % themes.length];
            document.querySelectorAll('.theme-icon').forEach(iconEl => {
                iconEl.classList.toggle('active', iconEl.classList.contains(nextThemeIconToShow));
            });

            if (!isInitialLoad) {
                localStorage.setItem('portfolioThemeIndex', themeIndex);
            }
        }

        const savedThemeIndex = localStorage.getItem('portfolioThemeIndex');
        if (savedThemeIndex !== null) {
            currentThemeIndex = parseInt(savedThemeIndex, 10);
        } else {
            currentThemeIndex = themes.indexOf(htmlEl.classList.contains('light-mode') ? 'light-mode' :
                                          htmlEl.classList.contains('high-contrast-mode') ? 'high-contrast-mode' :
                                          'dark-mode'); // Default aus HTML
             if (currentThemeIndex === -1 && themes.length > 0) currentThemeIndex = 0; // Fallback falls keine Klasse im HTML
        }
        themes.forEach(t => htmlEl.classList.remove(t)); // Sicherstellen, dass nur das korrekte Theme aktiv ist
        applyTheme(currentThemeIndex, true);


        if(themeToggleButton) {
            themeToggleButton.addEventListener('click', () => {
                let nextThemeIndex = (currentThemeIndex + 1) % themes.length;
                applyTheme(nextThemeIndex);
            });
        }

        // --- INTERSECTION OBSERVER & ANIMATION HANDLING ---
        let scrollObserver;
        const allProjectItems = Array.from(document.querySelectorAll('#project-grid-container .project-item'));

        function handleIntersection(entries, observerInstance) {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    if (motionQuery.matches) {
                         entry.target.classList.add('visible-reduced-motion');
                    } else {
                        const style = getComputedStyle(entry.target);
                        const itemIndexForDelay = style.getPropertyValue('--item-index');
                        let delay;

                        if (itemIndexForDelay && !isNaN(parseInt(itemIndexForDelay))) {
                            delay = parseInt(itemIndexForDelay) * 120; 
                        } else {
                            // Fallback auf data-original-index falls --item-index nicht (rechtzeitig) gesetzt ist
                            delay = entry.target.dataset.originalIndex ?
                                      parseInt(entry.target.dataset.originalIndex) * 120 : 0; 
                        }
                        
                        entry.target.classList.remove('visible'); // Sichtbarkeit zurücksetzen
                        void entry.target.offsetHeight; // Reflow erzwingen

                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, delay);
                    }
                    observerInstance.unobserve(entry.target);
                }
            });
        }
        
        function initializeScrollObserver(itemsToObserve) {
            if (scrollObserver) {
                scrollObserver.disconnect();
            }
            if (itemsToObserve.length > 0) {
                scrollObserver = new IntersectionObserver(handleIntersection, { threshold: 0.1 });
                itemsToObserve.forEach(el => {
                   scrollObserver.observe(el);
                });
            }
        }
        
        // Jedem Projektitem einen ursprünglichen Index für Fallback-Delay geben
        allProjectItems.forEach((item, index) => {
            item.dataset.originalIndex = index; 
        });

        function setupInitialAnimations() {
            const elementsToAnimate = document.querySelectorAll('#about .animate-on-load, .section-title-animate, .footer-animate');
            elementsToAnimate.forEach((el, index) => {
                if (motionQuery.matches) {
                    el.classList.add('visible-reduced-motion');
                } else {
                    el.style.animationDelay = `${0.15 + index * 0.12}s`; // Gestaffelte Animation
                    el.classList.add('fadeInUp-active');
                }
            });
            // Beobachte initial sichtbare Projektitems (die nicht 'none' sind und nicht 'hidden')
            initializeScrollObserver(allProjectItems.filter(item => getComputedStyle(item).display !== 'none' && !item.hidden));
        }
        

        // --- PROJECT FILTER LOGIC ---
        const filterContainer = document.querySelector('.project-category-filter');
        const filterButtons = filterContainer ? Array.from(filterContainer.querySelectorAll('.category-button')) : [];
        const filterStatusEl = document.getElementById('project-filter-status');
        let visibleItemIndex = 0; // Für gestaffelte Animation der gefilterten Items

        function filterProjects(selectedCategory) {
            visibleItemIndex = 0; // Index für Animations-Delay zurücksetzen
            let visibleCount = 0;

            allProjectItems.forEach(item => {
                const itemCategory = item.dataset.category;
                const matchesCategory = selectedCategory === 'all' || itemCategory === selectedCategory;
                
                // Klassen für Animationen und Sichtbarkeit zurücksetzen
                item.classList.remove('visible', 'fadeInUp-active', 'visible-reduced-motion'); 
                
                if (matchesCategory) {
                    item.hidden = false;
                    item.classList.remove('project-item-hidden');
                    
                    if (!motionQuery.matches) {
                        void item.offsetHeight; // Reflow erzwingen
                        item.style.setProperty('--item-index', visibleItemIndex++); // CSS-Variable für Delay setzen
                    } else {
                        item.classList.add('visible-reduced-motion'); // Bei reduced motion sofort sichtbar
                    }
                    visibleCount++;
                } else {
                    item.hidden = true;
                    item.classList.add('project-item-hidden');
                }
            });

            // Observer für die (neu) sichtbaren Items initialisieren
            initializeScrollObserver(allProjectItems.filter(item => !item.hidden));
            
            // Status für Screenreader aktualisieren
            if (filterStatusEl) {
                const categoryName = filterButtons.find(btn => btn.dataset.category === selectedCategory)?.textContent.trim() || 'ausgewählten';
                filterStatusEl.textContent = `${visibleCount} Projekt(e) für die Kategorie ${categoryName} angezeigt.`; // Angepasster Text
            }
        }

        filterButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                filterButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('aria-selected', 'false');
                    btn.setAttribute('tabindex', '-1');
                });
                button.classList.add('active');
                button.setAttribute('aria-selected', 'true');
                button.setAttribute('tabindex', '0');
                filterProjects(button.dataset.category);
            });

            // Tastaturnavigation für Filter-Buttons
            button.addEventListener('keydown', (e) => {
                let currentIndex = filterButtons.indexOf(button);
                let newIndex = currentIndex;

                if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                    newIndex = (currentIndex + 1) % filterButtons.length;
                } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                    newIndex = (currentIndex - 1 + filterButtons.length) % filterButtons.length;
                } else if (e.key === 'Home') {
                    e.preventDefault(); newIndex = 0;
                } else if (e.key === 'End') {
                    e.preventDefault(); newIndex = filterButtons.length - 1;
                }

                if (newIndex !== currentIndex) {
                    filterButtons[newIndex].focus();
                }
            });
        });
        
        setupInitialAnimations(); // Initiale Animationen für About-Sektion etc. starten

        // Initialen Filter anwenden (basierend auf dem aktiven Button im HTML oder dem ersten Button)
        const initiallyActiveButton = filterContainer ? filterContainer.querySelector('.category-button.active') : null;
        if (initiallyActiveButton) {
            filterProjects(initiallyActiveButton.dataset.category);
        } else if (filterButtons.length > 0) { // Fallback, falls kein Button als aktiv markiert ist
            filterButtons[0].classList.add('active');
            filterButtons[0].setAttribute('aria-selected', 'true');
            filterButtons[0].setAttribute('tabindex', '0');
            filterProjects(filterButtons[0].dataset.category);
        }

        // Auf Änderungen bei prefers-reduced-motion reagieren
        motionQuery.addEventListener('change', (e) => {
            const isReduced = e.matches;
            // Animationen für statische Elemente anpassen
            document.querySelectorAll('#about .animate-on-load, .section-title-animate, .footer-animate').forEach(el => {
                 if (isReduced) {
                    el.classList.remove('fadeInUp-active', 'visible');
                    el.classList.add('visible-reduced-motion');
                } else {
                    el.classList.remove('visible-reduced-motion');
                    // Animation neu starten, wenn sie initial vorgesehen war
                    if (el.closest('#about') && el.classList.contains('animate-on-load')) {
                        const index = Array.from(el.parentElement.querySelectorAll('.animate-on-load')).indexOf(el);
                        el.style.animationDelay = `${0.15 + index * 0.12}s`; 
                        el.classList.add('fadeInUp-active');
                    }
                    // Andere Elemente könnten hier ähnlich behandelt werden, falls nötig
                }
            });

            // Projekte neu filtern, um Animationsverhalten anzupassen
            const currentFilter = filterContainer ? filterContainer.querySelector('.category-button.active')?.dataset.category || 'all' : 'all';
            filterProjects(currentFilter); 
        });
    });
    </script>
</body>
</html>